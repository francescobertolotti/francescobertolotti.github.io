<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gentile - Statistica Multivariata</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
        }
        
        h2 {
            color: #764ba2;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.8em;
        }
        
        h3 {
            color: #667eea;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.3em;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .intro {
            background: #f0f4ff;
            padding: 20px;
            border-left: 4px solid #667eea;
            margin-bottom: 30px;
            border-radius: 5px;
        }
        
        .section {
            margin-bottom: 30px;
        }
        
        ul {
            margin-left: 30px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        
        .interactive-section {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            margin: 30px 0;
            border: 2px solid #667eea;
        }
        
        canvas {
            display: block;
            margin: 20px auto;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        
        .slider-container {
            margin: 20px 0;
        }
        
        .slider-container label {
            display: block;
            margin-bottom: 10px;
            font-weight: bold;
            color: #667eea;
        }
        
        input[type="range"] {
            width: 100%;
            max-width: 400px;
            height: 8px;
            border-radius: 5px;
            background: #d3d3d3;
            outline: none;
            -webkit-appearance: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }
        
        .info-box {
            background: white;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            text-align: center;
            border: 1px solid #667eea;
        }
        
        .info-box p {
            margin: 5px 0;
            text-align: center;
        }
        
        .value-display {
            font-size: 1.2em;
            color: #667eea;
            font-weight: bold;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #e0e0e0;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Gentile</h1>
        
        <div class="intro">
            <h2>Statistica Multivariata</h2>
            <p>La statistica multivariata è quella branca della statistica che si occupa dell'analisi simultanea di più variabili. A differenza della statistica univariata, che studia una singola variabile alla volta, la statistica multivariata esamina le relazioni e le interazioni tra multiple variabili contemporaneamente.</p>
        </div>

        <div class="section">
            <h2>Test d'Ipotesi</h2>
            
            <h3>Che cos'è un Test d'Ipotesi?</h3>
            <p>Il test d'ipotesi è uno strumento statistico fondamentale che ci permette di prendere decisioni basate sui dati. Immaginate di dover rispondere a una domanda del tipo: "Questo nuovo farmaco è davvero efficace?" oppure "La media dei voti degli studenti è cambiata dopo l'introduzione di un nuovo metodo didattico?". Il test d'ipotesi ci fornisce un metodo rigoroso per rispondere a queste domande.</p>
            
            <h3>Come Funziona?</h3>
            <p><strong>1. Formulazione delle Ipotesi:</strong> Si parte definendo due ipotesi contrapposte:</p>
            <ul>
                <li><strong>Ipotesi Nulla (H₀):</strong> rappresenta lo status quo, ciò che assumiamo essere vero fino a prova contraria (es. "il farmaco non ha effetto")</li>
                <li><strong>Ipotesi Alternativa (H₁):</strong> rappresenta ciò che vogliamo dimostrare (es. "il farmaco ha un effetto")</li>
            </ul>
            
            <p><strong>2. Raccolta dei Dati:</strong> Conduciamo un esperimento o un'indagine e raccogliamo i dati campionari.</p>
            
            <p><strong>3. Calcolo della Statistica Test:</strong> Dai dati calcoliamo un valore numerico (la statistica test) che riassume l'evidenza contro l'ipotesi nulla.</p>
            
            <p><strong>4. La Regione di Rifiuto:</strong> Prima di osservare i dati, stabiliamo una "regione di rifiuto" - un insieme di valori così estremi che, se la nostra statistica test vi cade dentro, rifiuteremo l'ipotesi nulla. Questa regione è determinata dal livello di significatività α (alfa), che rappresenta la probabilità di rifiutare erroneamente l'ipotesi nulla quando è vera (errore di primo tipo).</p>
            
            <p><strong>5. Decisione:</strong> Se la statistica test cade nella regione di rifiuto, rifiutiamo H₀ e accettiamo H₁. Altrimenti, non abbiamo sufficienti evidenze per rifiutare H₀.</p>
            
            <h3>Livello di Significatività e Intervallo di Confidenza</h3>
            <p>Il livello di significatività α e l'intervallo di confidenza sono strettamente collegati. Un livello di confidenza del (1-α)×100% corrisponde a un test con significatività α. Ad esempio:</p>
            <ul>
                <li>α = 0.05 (5%) corrisponde a un intervallo di confidenza del 95%</li>
                <li>α = 0.01 (1%) corrisponde a un intervallo di confidenza del 99%</li>
                <li>α = 0.10 (10%) corrisponde a un intervallo di confidenza del 90%</li>
            </ul>
            
            <p>Quando α diminuisce (test più conservativo), l'intervallo di confidenza diventa più ampio, riducendo la probabilità di rifiutare erroneamente l'ipotesi nulla, ma aumentando anche la probabilità di non rilevare un effetto reale (errore di secondo tipo).</p>
        </div>

        <div class="interactive-section">
            <h2 style="text-align: center; color: #667eea;">Visualizzazione Interattiva: Regioni di Rifiuto</h2>
            <p style="text-align: center;">Usa il cursore per modificare il livello di significatività e osserva come cambiano le regioni di rifiuto (in rosso) e l'intervallo di confidenza.</p>
            
            <div class="controls">
                <div class="slider-container">
                    <label for="alphaSlider">Livello di Significatività (α)</label>
                    <input type="range" id="alphaSlider" min="0.01" max="0.20" step="0.01" value="0.05">
                </div>
                
                <div class="info-box">
                    <p><span class="value-display">α = <span id="alphaValue">0.05</span></span></p>
                    <p><span class="value-display">Intervallo di Confidenza: <span id="confidenceValue">95</span>%</span></p>
                    <p>Valori Critici: <span class="value-display">z = ±<span id="criticalValue">1.96</span></span></p>
                    <p style="font-size: 0.9em; margin-top: 10px;">Le aree rosse rappresentano le regioni di rifiuto</p>
                </div>
            </div>
            
            <canvas id="distributionCanvas" width="700" height="400"></canvas>
        </div>
        
        <div class="section">
            <h2>Caratteristiche Principali della Statistica Multivariata</h2>
            <p>L'approccio multivariato permette di:</p>
            <ul>
                <li>Analizzare le relazioni tra più variabili simultaneamente</li>
                <li>Identificare pattern e strutture nascoste nei dati</li>
                <li>Ridurre la dimensionalità dei dati mantenendo le informazioni rilevanti</li>
                <li>Effettuare classificazioni e raggruppamenti più accurati</li>
                <li>Costruire modelli predittivi più complessi e precisi</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>Principali Tecniche</h2>
            
            <h3>Analisi della Componenti Principali (PCA)</h3>
            <p>Tecnica di riduzione della dimensionalità che trasforma un insieme di variabili correlate in un nuovo insieme di variabili non correlate chiamate componenti principali, ordinate per quantità di varianza spiegata.</p>
            
            <h3>Analisi Fattoriale</h3>
            <p>Metodo che identifica fattori latenti (non osservabili direttamente) che spiegano le correlazioni tra le variabili osservate.</p>
            
            <h3>Analisi dei Cluster</h3>
            <p>Insieme di tecniche per raggruppare oggetti in cluster omogenei in base alle loro caratteristiche, minimizzando la variabilità interna e massimizzando quella tra i gruppi.</p>
            
            <h3>Analisi Discriminante</h3>
            <p>Metodo di classificazione che cerca di identificare le variabili che meglio discriminano tra gruppi predefiniti di osservazioni.</p>
            
            <h3>Regressione Multipla</h3>
            <p>Estensione della regressione lineare che studia la relazione tra una variabile dipendente e più variabili indipendenti simultaneamente.</p>
            
            <h3>MANOVA</h3>
            <p>Analisi della varianza multivariata che estende l'ANOVA per confrontare più variabili dipendenti contemporaneamente tra diversi gruppi.</p>
        </div>
        
        <div class="highlight">
            <h2>Applicazioni Pratiche</h2>
            <p>La statistica multivariata trova applicazione in numerosi campi:</p>
            <ul>
                <li><strong>Marketing:</strong> segmentazione della clientela, analisi delle preferenze</li>
                <li><strong>Finanza:</strong> gestione del portafoglio, analisi del rischio</li>
                <li><strong>Medicina:</strong> diagnosi multifattoriale, studi clinici</li>
                <li><strong>Scienze sociali:</strong> analisi dei sondaggi, ricerca psicometrica</li>
                <li><strong>Biologia:</strong> analisi genomiche, studi ecologici</li>
                <li><strong>Qualità:</strong> controllo di processo, ottimizzazione industriale</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>Concetti Fondamentali</h2>
            <p><strong>Matrice di dati:</strong> La struttura base è una matrice dove le righe rappresentano le unità statistiche (osservazioni) e le colonne rappresentano le variabili misurate.</p>
            <p><strong>Matrice di covarianza:</strong> Misura le relazioni lineari tra tutte le coppie di variabili, rappresentando sia le varianze che le covarianze.</p>
            <p><strong>Distanza multivariata:</strong> Misura di similarità o dissimilarità tra osservazioni in uno spazio multidimensionale (es. distanza euclidea, distanza di Mahalanobis).</p>
        </div>
        
        <div class="footer">
            <p>Statistica Multivariata - Concetti di Base</p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('distributionCanvas');
        const ctx = canvas.getContext('2d');
        const slider = document.getElementById('alphaSlider');
        const alphaDisplay = document.getElementById('alphaValue');
        const confidenceDisplay = document.getElementById('confidenceValue');
        const criticalDisplay = document.getElementById('criticalValue');

        // Funzione per calcolare il valore critico z per una distribuzione normale
        function getZCritical(alpha) {
            // Approssimazione per i valori critici comuni
            const alphaHalf = alpha / 2;
            
            // Tabella di valori approssimati
            if (Math.abs(alpha - 0.10) < 0.001) return 1.645;
            if (Math.abs(alpha - 0.05) < 0.001) return 1.960;
            if (Math.abs(alpha - 0.01) < 0.001) return 2.576;
            
            // Approssimazione di Hastings per altri valori
            const p = 1 - alphaHalf;
            const t = Math.sqrt(-2 * Math.log(alphaHalf));
            const c0 = 2.515517;
            const c1 = 0.802853;
            const c2 = 0.010328;
            const d1 = 1.432788;
            const d2 = 0.189269;
            const d3 = 0.001308;
            
            return t - (c0 + c1*t + c2*t*t) / (1 + d1*t + d2*t*t + d3*t*t*t);
        }

        // Funzione densità normale standard
        function normalPDF(x) {
            return (1 / Math.sqrt(2 * Math.PI)) * Math.exp(-0.5 * x * x);
        }

        function drawDistribution() {
            const alpha = parseFloat(slider.value);
            const zCritical = getZCritical(alpha);
            
            // Aggiorna i display
            alphaDisplay.textContent = alpha.toFixed(3);
            confidenceDisplay.textContent = ((1 - alpha) * 100).toFixed(1);
            criticalDisplay.textContent = zCritical.toFixed(3);
            
            // Pulisci canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Parametri per il disegno
            const centerX = canvas.width / 2;
            const centerY = canvas.height - 80;
            const scale = 60;
            const heightScale = 200;
            
            // Disegna la curva normale
            ctx.beginPath();
            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 3;
            
            for (let x = -4; x <= 4; x += 0.05) {
                const screenX = centerX + x * scale;
                const y = normalPDF(x);
                const screenY = centerY - y * heightScale;
                
                if (x === -4) {
                    ctx.moveTo(screenX, screenY);
                } else {
                    ctx.lineTo(screenX, screenY);
                }
            }
            ctx.stroke();
            
            // Riempie le regioni di rifiuto
            ctx.fillStyle = 'rgba(220, 53, 69, 0.3)';
            
            // Regione sinistra
            ctx.beginPath();
            ctx.moveTo(centerX - 4 * scale, centerY);
            for (let x = -4; x <= -zCritical; x += 0.05) {
                const screenX = centerX + x * scale;
                const y = normalPDF(x);
                const screenY = centerY - y * heightScale;
                ctx.lineTo(screenX, screenY);
            }
            ctx.lineTo(centerX - zCritical * scale, centerY);
            ctx.closePath();
            ctx.fill();
            
            // Regione destra
            ctx.beginPath();
            ctx.moveTo(centerX + zCritical * scale, centerY);
            for (let x = zCritical; x <= 4; x += 0.05) {
                const screenX = centerX + x * scale;
                const y = normalPDF(x);
                const screenY = centerY - y * heightScale;
                ctx.lineTo(screenX, screenY);
            }
            ctx.lineTo(centerX + 4 * scale, centerY);
            ctx.closePath();
            ctx.fill();
            
            // Disegna le linee dei valori critici
            ctx.strokeStyle = '#dc3545';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            
            // Linea sinistra
            ctx.beginPath();
            ctx.moveTo(centerX - zCritical * scale, centerY);
            ctx.lineTo(centerX - zCritical * scale, centerY - normalPDF(zCritical) * heightScale);
            ctx.stroke();
            
            // Linea destra
            ctx.beginPath();
            ctx.moveTo(centerX + zCritical * scale, centerY);
            ctx.lineTo(centerX + zCritical * scale, centerY - normalPDF(zCritical) * heightScale);
            ctx.stroke();
            
            ctx.setLineDash([]);
            
            // Disegna l'asse x
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(50, centerY);
            ctx.lineTo(canvas.width - 50, centerY);
            ctx.stroke();
            
            // Etichette
            ctx.fillStyle = '#333';
            ctx.font = '14px Arial';
            ctx.textAlign = 'center';
            
            // Centro (μ)
            ctx.fillText('μ = 0', centerX, centerY + 25);
            
            // Valori critici
            ctx.fillStyle = '#dc3545';
            ctx.font = 'bold 14px Arial';
            ctx.fillText(`-${zCritical.toFixed(2)}`, centerX - zCritical * scale, centerY + 25);
            ctx.fillText(`+${zCritical.toFixed(2)}`, centerX + zCritical * scale, centerY + 25);
            
            // Etichette delle regioni
            ctx.fillStyle = '#dc3545';
            ctx.font = '12px Arial';
            ctx.fillText('Regione di', centerX - 2.5 * scale, centerY - 20);
            ctx.fillText('Rifiuto', centerX - 2.5 * scale, centerY - 5);
            
            ctx.fillText('Regione di', centerX + 2.5 * scale, centerY - 20);
            ctx.fillText('Rifiuto', centerX + 2.5 * scale, centerY - 5);
            
            ctx.fillStyle = '#667eea';
            ctx.fillText('Regione di Non Rifiuto', centerX, centerY + 50);
            ctx.fillText(`(Intervallo di Confidenza ${((1-alpha)*100).toFixed(1)}%)`, centerX, centerY + 65);
        }

        // Event listener per lo slider
        slider.addEventListener('input', drawDistribution);
        
        // Disegna la distribuzione iniziale
        drawDistribution();
    </script>
</body>
</html>